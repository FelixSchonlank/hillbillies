<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>
<title>preliminary</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2016/02/29 15:15:33"/>
<meta name="author" content="willem seynaeve"/>
<style type="text/css">
  html {
	font-family: Times, serif;
	font-size: 12pt;
  }
  .title { text-align: center; }
  .todo  { color: red; }
  .done { color: green; }
  .timestamp { color: grey }
  .timestamp-kwd { color: CadetBlue }
  .tag { background-color:lightblue; font-weight:normal }
  .target { background-color: lavender; }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
  }
  table { border-collapse: collapse; }
  td, th {
	vertical-align: top;
	<!--border: 1pt solid #ADB9CC;-->
  }
</style>
</head><body>
<h1 class="title">preliminary</h1>
<h2>Table of Contents</h2>
<ul>
<li><a href="#sec-1">1 Unit</a>
<ul>
<li><a href="#sec-2">1.1 Position</a></li>
<li><a href="#sec-3">1.2 Name</a></li>
<li><a href="#sec-4">1.3 Attributes</a></li>
<li><a href="#sec-5">1.4 HP &amp; stamina</a></li>
<li><a href="#sec-6">1.5 Orientation</a></li>
<li><a href="#sec-7">1.6 Time advancing</a></li>
<li><a href="#sec-8">1.7 Basic movement</a></li>
<li><a href="#sec-9">1.8 Less basic movement</a></li>
<li><a href="#sec-10">1.9 Work</a></li>
<li><a href="#sec-11">1.10 Fighting</a>
<ul>
<li><a href="#sec-12">1.10.1 Dodging</a></li>
<li><a href="#sec-13">1.10.2 Blocking</a></li>
<li><a href="#sec-14">1.10.3 Damage</a></li>
<li><a href="#sec-15">1.10.4 Orientation</a></li>
</ul>
</li>
<li><a href="#sec-16">1.11 Resting</a></li>
<li><a href="#sec-17">1.12 Default behaviour</a>
<ul>
<li><a href="#sec-18">1.12.1 While idle</a></li>
<li><a href="#sec-19">1.12.2 While moving</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<h2><a name="sec-1">1 Unit</a></h2>



<h3><a name="sec-2">1.1 Position                                                       &nbsp;&nbsp;&nbsp;<span class="tag">Defensive</span></a></h3>


<ul>
<li>
Stored as doubles
</li>
<li>
Getters and setters must be made
</li>
<li>
Always within bounds (50x50x50 game world)


</li>
</ul>
<h3><a name="sec-3">1.2 Name                                                           &nbsp;&nbsp;&nbsp;<span class="tag">Defensive</span></a></h3>


<ul>
<li>
Can change (mutable)
</li>
<li>
Prerequisites
<ul>
<li>
&gt;= 2 letters long
</li>
<li>
Only letters, quotes, and spaces


</li>
</ul></li>
</ul>
<h3><a name="sec-4">1.3 Attributes                                                         &nbsp;&nbsp;&nbsp;<span class="tag">Total</span></a></h3>


<ul>
<li>
Attributes
<ul>
<li>
Weight (wgh)
<ul>
<li>
Always &gt;= (strength + agility) / 2
</li>
</ul></li>
<li>
Strength (str)
</li>
<li>
Agility (agl)
</li>
<li>
Toughness (tgh)
</li>
</ul></li>
<li>
Integers ∈ [1;200]
</li>
<li>
Initially ∈ [25;100]


</li>
</ul>
<h3><a name="sec-5">1.4 HP &amp; stamina                                                     &nbsp;&nbsp;&nbsp;<span class="tag">Nominal</span></a></h3>


<ul>
<li>
Maximum = round-up of 200 * weight/100 * toughness/100
</li>
<li>
Integers (presumably)
</li>
<li>
Always ∈ [0;maximum]


</li>
</ul>
<h3><a name="sec-6">1.5 Orientation                                                        &nbsp;&nbsp;&nbsp;<span class="tag">Total</span></a></h3>


<ul>
<li>
Floating point numbers (floats)
</li>
<li>
In <b>radians</b>
</li>
<li>
Getter and setter must be made

</li>
</ul>
<h3><a name="sec-7">1.6 Time advancing                                                 &nbsp;&nbsp;&nbsp;<span class="tag">Defensive</span></a></h3>


<p>
No formal documentation needed! Thank God.
</p>
<ul>
<li>
Implement method advanceTime which updates position and activity status,
based on current position and current activity status.
<ul>
<li>
Takes a float holding seconds that have past since last advanceTime
</li>
</ul>call. Will always be &gt;= 0, and must be &lt; 0.2 (throw error if not the case).


</li>
</ul>
<h3><a name="sec-8">1.7 Basic movement</a></h3>


<ul>
<li>
Function moveToAdjacent that moves to the middle of an adjacent cube (within
bounds).
<ul>
<li>
Only interrupted when attacked (not on subsequent call or anything else).
</li>
</ul></li>
<li>
Speed
<ul>
<li>
Base speed is determined as 1.5 * (str + agl) / (2 * wgh)
</li>
<li>
Walking speed is
<ul>
<li>
0.5 base speed when ascending (z-)
</li>
<li>
1.0 base speed when remaining on same level (z=)
</li>
<li>
1.2 base speed when descending (z+)
</li>
</ul></li>
<li>
Sprinting
<ul>
<li>
Brings speed to 2 * walkingSpeed
</li>
<li>
Costs 1 stamina per 0.1 seconds
</li>
<li>
Only allowed to start when stamina &gt; 0
</li>
<li>
Stops at stamina == 0
</li>
</ul></li>
</ul></li>
<li>
Orientation is set to atan2(v<sub>y</sub>, v<sub>x</sub>)

</li>
</ul>Implement functions moveToAdjacent, startSprinting, stopSprinting,
getMovementStatus.



<h3><a name="sec-9">1.8 Less basic movement</a></h3>


<ul>
<li>
Function moveTo to move towards target cube (not necessarily adjacent)
</li>
<li>
Can be interrupted by other stuff (retargeting, work), but path shall be
resumed once interrupting activity has been finished.
</li>
<li>
Recalling the moveTo function will change target location.


</li>
</ul>
<h3><a name="sec-10">1.9 Work</a></h3>


<ul>
<li>
Function work that will set the unit to work for 500/str seconds.
</li>
<li>
Use floating point numebrs for duration and elapsed time.
</li>
<li>
Can be interrupted by a new task, fighting, or resting.


</li>
</ul>
<h3><a name="sec-11">1.10 Fighting</a></h3>



<h4><a name="sec-12">1.10.1 Dodging</a></h4>


<p>
Unit will always first try to dodge an attack. Chance of succes is equal to
0.20 * agl<sub>def</sub> / agl<sub>att</sub>. If succesful, Unit suffers no damage and will be
teleported to random adjacent (not the same) cube within game world. If not,
Unit will try to block.
</p>


<h4><a name="sec-13">1.10.2 Blocking</a></h4>


<p>
Succes chance: 0.25 * (agl<sub>def</sub> + str<sub>def</sub>) / (agl<sub>att</sub> + str<sub>att</sub>). If succesful,
Unit suffers no damage. If not succesful, Unit does suffer damage.
</p>


<h4><a name="sec-14">1.10.3 Damage</a></h4>


<p>
Damage taken is equal str<sub>att</sub>/10.
</p>


<h4><a name="sec-15">1.10.4 Orientation</a></h4>


<p>
Fighting Units must face each other
</p><ul>
<li>
θ<sub>att</sub> = atan2(y<sub>def</sub> - y<sub>att</sub>, x<sub>def</sub> - x<sub>att</sub>)
</li>
<li>
θ<sub>def</sub> = atan2(y<sub>att</sub> - y<sub>def</sub>, x<sub>att</sub> - x<sub>def</sub>)


</li>
</ul>
<h3><a name="sec-16">1.11 Resting</a></h3>


<ul>
<li>
Function rest to initiate resting
</li>
<li>
Will automatically happen every three minutes
</li>
<li>
First restore tgh/200 HP per 0.2 seconds until full, then tgh/100 stamina.
</li>
<li>
Initial period
<ul>
<li>
Takes as long as it takes to restore 1 HP.
</li>
<li>
Only interruptatble by being attacked.
</li>
</ul></li>
<li>
Normal period
<ul>
<li>
Takes as long as it needs to restore all HP and stamina.
</li>
<li>
Interruptable by anything.


</li>
</ul></li>
</ul>
<h3><a name="sec-17">1.12 Default behaviour</a></h3>


<p>
The default behaviour may be switched on and off with startDefaultBehaviour and
stopDefaultBehaviour.
</p>

<h4><a name="sec-18">1.12.1 While idle</a></h4>


<p>
When doing absolutely nothing (not even resting), Unit chooses between
</p>
<ul>
<li>
Move to a random position in the game
</li>
<li>
Do some work
</li>
<li>
Rest until fully recovered


</li>
</ul>
<h4><a name="sec-19">1.12.2 While moving</a></h4>


<p>
While currently moving towards something, the unit may choose to start sprinting
until exhausted.
</p><p class="author"> Author: willem seynaeve
<a href="mailto:willem@MacBook-Pro-van-willem.local">&lt;willem@MacBook-Pro-van-willem.local&gt;</a>
</p>
<p class="date"> Date: 2016/02/29 15:15:33</p>
</body>
</html>
